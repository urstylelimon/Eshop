{% extends 'orders/base.html' %}

{% block header_title %}Dashboard Overview{% endblock %}

{% block content %}
<!-- Create Order Button at Top -->
<div class="mb-6 flex justify-end">
  <a href="#" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
    <i class="fas fa-plus-circle mr-2"></i> Create New Order
  </a>
</div>

<!-- Stats Cards -->
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6">
  <!-- Total Revenue -->
  <div class="bg-white rounded-xl shadow-sm p-6 card-hover transition-all duration-300 border-l-4 border-indigo-500">
    <div class="flex justify-between">
      <div>
        <p class="text-sm font-medium text-gray-500 uppercase tracking-wider">Total Revenue</p>
        <h3 class="text-2xl font-bold mt-1">$24,780</h3>
        <p class="text-green-500 text-sm mt-2 flex items-center">
          <i class="fas fa-arrow-up mr-1"></i> 8.3% from last month
        </p>
      </div>
      <div class="h-12 w-12 rounded-lg bg-indigo-100 flex items-center justify-center text-indigo-600">
        <i class="fas fa-dollar-sign text-xl"></i>
      </div>
    </div>
  </div>

  <!-- Total Orders -->
  <div class="bg-white rounded-xl shadow-sm p-6 card-hover transition-all duration-300 border-l-4 border-blue-500">
    <div class="flex justify-between">
      <div>
        <p class="text-sm font-medium text-gray-500 uppercase tracking-wider">Total Orders</p>
        <h3 class="text-2xl font-bold mt-1">1,248</h3>
        <p class="text-green-500 text-sm mt-2 flex items-center">
          <i class="fas fa-arrow-up mr-1"></i> 12.5% from last week
        </p>
      </div>
      <div class="h-12 w-12 rounded-lg bg-blue-100 flex items-center justify-center text-blue-600">
        <i class="fas fa-shopping-cart text-xl"></i>
      </div>
    </div>
  </div>

  <!-- Customers -->
  <div class="bg-white rounded-xl shadow-sm p-6 card-hover transition-all duration-300 border-l-4 border-purple-500">
    <div class="flex justify-between">
      <div>
        <p class="text-sm font-medium text-gray-500 uppercase tracking-wider">Customers</p>
        <h3 class="text-2xl font-bold mt-1">3,429</h3>
        <p class="text-red-500 text-sm mt-2 flex items-center">
          <i class="fas fa-arrow-down mr-1"></i> 2.1% from last month
        </p>
      </div>
      <div class="h-12 w-12 rounded-lg bg-purple-100 flex items-center justify-center text-purple-600">
        <i class="fas fa-users text-xl"></i>
      </div>
    </div>
  </div>

  <!-- Conversion Rate -->
  <div class="bg-white rounded-xl shadow-sm p-6 card-hover transition-all duration-300 border-l-4 border-green-500">
    <div class="flex justify-between">
      <div>
        <p class="text-sm font-medium text-gray-500 uppercase tracking-wider">Conversion Rate</p>
        <h3 class="text-2xl font-bold mt-1">3.6%</h3>
        <p class="text-green-500 text-sm mt-2 flex items-center">
          <i class="fas fa-arrow-up mr-1"></i> 1.2% from last month
        </p>
      </div>
      <div class="h-12 w-12 rounded-lg bg-green-100 flex items-center justify-center text-green-600">
        <i class="fas fa-percentage text-xl"></i>
      </div>
    </div>
  </div>
</div>

<!-- Charts Section -->
<div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
  <!-- Sales Chart -->
  <div class="bg-white rounded-xl shadow-sm p-6 card-hover transition-all duration-300">
    <div class="flex justify-between items-center mb-4">
      <h3 class="text-lg font-semibold text-gray-900">Sales Performance</h3>
      <div class="flex space-x-2">
        <select class="bg-gray-100 border-0 rounded-lg px-3 py-1 text-sm focus:ring-2 focus:ring-indigo-500">
          <option>Last 7 Days</option>
          <option>Last 30 Days</option>
          <option>This Year</option>
        </select>
      </div>
    </div>
    <div class="chart-container">
      <canvas id="salesChart"></canvas>
    </div>
  </div>

  <!-- Revenue Chart -->
  <div class="bg-white rounded-xl shadow-sm p-6 card-hover transition-all duration-300">
    <div class="flex justify-between items-center mb-4">
      <h3 class="text-lg font-semibold text-gray-900">Revenue Overview</h3>
      <div class="flex space-x-2">
        <select class="bg-gray-100 border-0 rounded-lg px-3 py-1 text-sm focus:ring-2 focus:ring-indigo-500">
          <option>2023</option>
          <option>2022</option>
          <option>2021</option>
        </select>
      </div>
    </div>
    <div class="chart-container">
      <canvas id="revenueChart"></canvas>
    </div>
  </div>
</div>

<!-- Daily Lists Section -->
<div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
  <!-- Daily Confirm List -->
  <div class="bg-white rounded-xl shadow-sm overflow-hidden card-hover transition-all duration-300">
    <div class="p-6 border-b border-gray-200 flex justify-between items-center">
      <h3 class="text-lg font-semibold text-gray-900">Daily Confirm List</h3>
      <a href="#" class="text-sm font-medium text-indigo-600 hover:text-indigo-500">View all</a>
    </div>
    <div class="divide-y divide-gray-200">
      <!-- Sample Confirmed Orders -->
      <div class="p-4 hover:bg-gray-50 flex justify-between items-center">
        <div>
          <p class="font-medium text-gray-900">#ORD-10245 - John Smith</p>
          <p class="text-sm text-gray-500">Premium Headphones - Qty: 2</p>
        </div>
        <span class="px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
          Confirmed
        </span>
      </div>
      <div class="p-4 hover:bg-gray-50 flex justify-between items-center">
        <div>
          <p class="font-medium text-gray-900">#ORD-10244 - Sarah Johnson</p>
          <p class="text-sm text-gray-500">Wireless Keyboard - Qty: 1</p>
        </div>
        <span class="px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
          Confirmed
        </span>
      </div>
      <div class="p-4 hover:bg-gray-50 flex justify-between items-center">
        <div>
          <p class="font-medium text-gray-900">#ORD-10243 - Tech Solutions Inc.</p>
          <p class="text-sm text-gray-500">Laptop Pro 15" - Qty: 5</p>
        </div>
        <span class="px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
          Confirmed
        </span>
      </div>
      <div class="p-4 hover:bg-gray-50 flex justify-between items-center">
        <div>
          <p class="font-medium text-gray-900">#ORD-10242 - Michael Brown</p>
          <p class="text-sm text-gray-500">Smart Watch - Qty: 1</p>
        </div>
        <span class="px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
          Confirmed
        </span>
      </div>
      <div class="p-4 hover:bg-gray-50 flex justify-between items-center">
        <div>
          <p class="font-medium text-gray-900">#ORD-10241 - Emma Wilson</p>
          <p class="text-sm text-gray-500">Bluetooth Speaker - Qty: 3</p>
        </div>
        <span class="px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
          Confirmed
        </span>
      </div>
    </div>
  </div>

  <!-- Daily Return List -->
  <div class="bg-white rounded-xl shadow-sm overflow-hidden card-hover transition-all duration-300">
    <div class="p-6 border-b border-gray-200 flex justify-between items-center">
      <h3 class="text-lg font-semibold text-gray-900">Daily Return List</h3>
      <a href="#" class="text-sm font-medium text-indigo-600 hover:text-indigo-500">View all</a>
    </div>
    <div class="divide-y divide-gray-200">
      <!-- Sample Return Orders -->
      <div class="p-4 hover:bg-gray-50 flex justify-between items-center">
        <div>
          <p class="font-medium text-gray-900">#RET-0045 - David Miller</p>
          <p class="text-sm text-gray-500">Wireless Earbuds - Reason: Defective</p>
        </div>
        <span class="px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800">
          Return
        </span>
      </div>
      <div class="p-4 hover:bg-gray-50 flex justify-between items-center">
        <div>
          <p class="font-medium text-gray-900">#RET-0044 - Creative Designs LLC</p>
          <p class="text-sm text-gray-500">Graphic Tablet - Reason: Wrong item</p>
        </div>
        <span class="px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800">
          Return
        </span>
      </div>
      <div class="p-4 hover:bg-gray-50 flex justify-between items-center">
        <div>
          <p class="font-medium text-gray-900">#RET-0043 - Lisa Thompson</p>
          <p class="text-sm text-gray-500">Fitness Tracker - Reason: Changed mind</p>
        </div>
        <span class="px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800">
          Return
        </span>
      </div>
      <div class="p-4 hover:bg-gray-50 flex justify-between items-center">
        <div>
          <p class="font-medium text-gray-900">#RET-0042 - Robert Chen</p>
          <p class="text-sm text-gray-500">External SSD - Reason: Not compatible</p>
        </div>
        <span class="px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800">
          Return
        </span>
      </div>
      <div class="p-4 hover:bg-gray-50 flex justify-between items-center">
        <div>
          <p class="font-medium text-gray-900">#RET-0041 - Olivia Martinez</p>
          <p class="text-sm text-gray-500">Smartphone Case - Reason: Wrong color</p>
        </div>
        <span class="px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800">
          Return
        </span>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script>
  // Sales Chart
  const salesCtx = document.getElementById('salesChart').getContext('2d');
  const salesChart = new Chart(salesCtx, {
    type: 'bar',
    data: {
      labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
      datasets: [{
        label: 'Sales',
        data: [1200, 1900, 3000, 5000, 2000, 3000, 4500],
        backgroundColor: 'rgba(79, 70, 229, 0.7)',
        borderColor: 'rgba(79, 70, 229, 1)',
        borderWidth: 1,
        borderRadius: 4
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: { display: false }
      },
      scales: {
        y: { beginAtZero: true, grid: { drawBorder: false } },
        x: { grid: { display: false } }
      }
    }
  });

  // Revenue Chart
  const revenueCtx = document.getElementById('revenueChart').getContext('2d');
  const revenueChart = new Chart(revenueCtx, {
    type: 'line',
    data: {
      labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
      datasets: [{
        label: 'Revenue',
        data: [6500, 5900, 8000, 8100, 5600, 5500, 4000, 6200, 7800, 9100, 8900, 9300],
        fill: true,
        backgroundColor: 'rgba(79, 70, 229, 0.1)',
        borderColor: 'rgba(79, 70, 229, 1)',
        borderWidth: 2,
        tension: 0.3
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: { display: false }
      },
      scales: {
        y: { beginAtZero: false, grid: { drawBorder: false } },
        x: { grid: { display: false } }
      }
    }
  });
</script>
{% endblock %}